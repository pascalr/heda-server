Regarder ce que mon ancien site reference à l'air

Faire des blog posts sur mon site de CV?
pascalr.github.io/cv/posts/1
L'idée est de le faire pour moi aussi. Comme cheatsheet.
=> Most common bootstrap css class.
=> Creating a modal with react and bootstrap.
=> Creating tags with react and bootstrap.
=> Hcu

Add dependant_destroy to schema for recipes:
recipes {
  dependant_destroy: ['book_recipes', 'favorite_recipes', 'food_recipes', 'ingredient_sections', 'items', 'meals', 'mixes', 'recipe_comments', 'recipe_ingredients', 'recipe_notes', 'recipe_ratings', 'recipe_steps', 'recipe_tools', 'references', 'similar_recipes', 'suggestions', 'user_recipes']
}

FIXME: All these tables contains the attr recipe_id...
Not mixes
create_table "book_recipes", force: :cascade do |t|
create_table "favorite_recipes", force: :cascade do |t|
create_table "food_recipes", force: :cascade do |t|
create_table "ingredient_sections", force: :cascade do |t|
create_table "items", force: :cascade do |t|
create_table "meals", force: :cascade do |t|
create_table "mixes", force: :cascade do |t|
create_table "recipe_comments", force: :cascade do |t|
create_table "recipe_ingredients", force: :cascade do |t|
create_table "recipe_notes", force: :cascade do |t|
create_table "recipe_ratings", force: :cascade do |t|
create_table "recipe_steps", force: :cascade do |t|
create_table "recipe_tools", force: :cascade do |t|
create_table "references", force: :cascade do |t|
create_table "similar_recipes", force: :cascade do |t|
create_table "suggestions", force: :cascade do |t|
create_table "user_recipes", force: :cascade do |t|

Je n'arrive pas à changer le owner de pouding au pain...
Une page publique pour les utilisateurs? Ça montrerais quoi? Juste toute la liste des recettes?
Image thumbnails, si le thumbnail n'existe pas, le créer. Faire ça pour toutes les variantes.
Delete this recipe (duplicate): Biscuits à l'avoine et aux raisins secs
Destroy duplicate Pain à hotdog
Pouvoir choisir de quel manière est tronquer l'image. Croustade aux pommes garder le haut de l'image.
Comment gérer la langue des pages quand l'utilisateur n'est pas connecté????? (Page d'acceuil, Choose user, Forgot, toutes les views en fait...)
When doing an update, check the number of changes to make sure that it worked. info.changes == 1
Create an admin page, add a button to make a safe copy of the sqlite3 file.
TODO: Test transaction for upload_image
Ajouter un exemple de Carrousel de suggestions de recettes dans la page d'acceuil.
Ajouter un exemple de modifier une recette sur la page d'acceuil.
Ah je le sais quel design que je veux! Un genre de faux design de téléphone.

Sur mon site internet de CV, rajouter une ligne sur la page d'acceuil, Portfolio, avec des liens vers les meilleurs projets que j'ai fait.

Faire une page de vente pour l'application.
    Faire la vidéo de créer la recette Chocolate chip cookies. (recipeId == 323)
    Rajouter le crédit photo des biscuits aux brisures de chocolat.
    Faire une vidéo ou bien ou simulation live de l'éditeur de recette (Créer une recette n'aura jamais été aussi facile)
    Tu ne sais pas quoi manger? HedaCuisine te suggère des recettes selon des thèmes.

Afficher les exception correctement. (Par exemple, uploader un svg au lieu d'un jpg ou png)
Inspiration pour la page de vente peut-être: https://www.scoop.solar/
Simplement enlever pretty quantity...
Scroll search
Longer sessions (1 month!), refresh le 1 mois lorsque l'utilisateur se connecte?, ne pas avoir à se logger souvent.
Fix recipe notes. Les notes les faire simplement dans le texte des instructions. Mais pouvoir rajouter des liens vers les notes?
Thumbnails images
Store images on volume or backblaze.
Backblaze? https://www.npmjs.com/package/backblaze
Mettre un peu de couleur!
Quand tu déplaces des ingrédients, modifier le json pour changer les numéros d'ingrédients.
SuggestionsIndex AutresRecettes
Use Docker instead of Herkou build pack
https://www.docker.com/blog/getting-started-with-docker-using-node-jspart-i/
Remove user_id from suggestions? Because tags avec user_id, it is redundant there. But it makes my life easier so let's keep it there for now.
db.safe exception crashes the server...
Print, Share, Download
ImageSlug for recipes

Later:
Periodic task to remove images which are not referenced anywhere. To remove images without a file.
Add max file size to images
Add max image count to users
Add max profile count to accounts
Bilingue. import {t} from './translations'; t('welcome_message')
Conversions d'unités
Pouvoir changer les tags des recettes
Pouvoir cliquer sur un utilisateur et voir ses recettes.
How to handle orphans? Destroy FavoriteRecipe when Recipe is destroyed? Or once in a while, clean up all orphans?
Use fetch instead of jquery.ajax

Later (other users):
Faire des tests.
Ajouter un moyen de me contacter
Create default user for account
Pouvoir modifier le mot de passe des utilisateurs: https://stackoverflow.com/questions/20277020/how-to-reset-change-password-in-node-js-with-passport-js
Add security to password reset (token expiration) Unique token. Not null token

Later (mobile app):
Essayer d'utiliser Ionic pour une application mobile? https://ionicframework.com/docs/components
Expressjs mobile development???

Later (optimize):
Delegate all the db data sorting to the client to avoid load on the server.

Later (security):
Do double security to prevent SQL injection. Sanitize all the input AND make sure that the item is whitelisted.

//import Bucket from "backblaze";
//const bucket = Bucket("heda-bucket-production", {
//  id: process.env.B2_ID,
//  key: process.env.B2_KEY
//});



Electromechanic | Logiflex
December 2017 - August 2018


                * Responsible of the factory alone on the night shift and on call a third of the time
* Troubleshoot problems and restart machines as quickly as possible
* Work in collaboration with production to minimize downtime
* Read and analyze technical plans
            
Farmer | Family farm
January 2006 - August 2016


                * Repair and maintain agricultural equipment
* Construct farm buildings entirely
* Drive tractors and operate machinery
            



file:///home/pascalr/heda-server/src/db.js:44
  if (!allowed.includes(s)) {throw "Error: Db value not allowed ("+s+")."}
                             ^
Error: Db value not allowed (users).
Thrown at:
    at sqlite3.Database.safe (file:///home/pascalr/heda-server/src/db.js:44:30)
    at file:///home/pascalr/heda-server/src/router.js:76:30
    at /home/pascalr/heda-server/node_modules/express-fileupload/lib/utilities.js:64:52
    at /home/pascalr/heda-server/node_modules/express-fileupload/lib/utilities.js:220:5
    at emit (node:events:520:28)
    at emitCloseNT (node:internal/streams/destroy:138:10)
    at processTicksAndRejections (node:internal/process/task_queues:82:21)

// This will be called for every query
// Sets the locale in the global variable.
// Redirects to add locale to query string if missing and found in referer.
app.use((req, res, next) => {
  //console.log('Time:', Date.now())
  if (!req.query.locale && req.headers.referer) {
    // Try to set the same locale as the url
    let locale = getUrlParams(req.headers.referer).locale || 'en'
    if (locale) {
      if (req.originalUrl.indexOf('?') == -1) {
        return res.redirect(req.originalUrl+'?locale='+locale)
      } else {
        return res.redirect(req.originalUrl+'&locale='+locale)
      }
    }
  }
  global.locale = req.query.locale || 'en'
  next()
})
window.locale = getUrlParams(window.location.href).locale
